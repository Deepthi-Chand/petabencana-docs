## Cards

Petabencana report cards for disaster events.  Note: [authentication](https://docs.petabencana.id/general/authentication.html) is required to make updates to cards.

### Request Format

| URL Parameter | Description | Format | Required |
| -- | -- | -- | -- |
| cardId | Unique identifier of the card we wish to work with, this is generated by the system when the initial card is created (required) | String (7 to 14 characters) | True


| Attribute | Description | Format | Required |
| -- | -- | -- | -- |
| water_depth | How deep is the water in centimetres | Integer (min: `0`, max: `200`) | True
| text | Description if the disaster event | String | False
| image_id | Identifier of the associated card image | String | False
| created_at | Date and time the card was created | Date ([ISO 8601](http://www.iso.org/iso/home/standards/iso8601.htm)) | True
| location | Geographic location of the disaster event | Lat/Lng in [ESPG:4326](http://spatialreference.org/ref/epsg/wgs-84/) | True


{% method %}
### GET cards/:cardId

Retrieve details of a card:

{% sample lang="https" %}

Here is a simple call to GET a card:

```https
curl -X GET -H "X-Api-Key: API_KEY_GOES_HERE" "https://data.petabencana.id/cards/abcdefg"
```

{% common %}
The card was found:

```json
{
  "statusCode": 200,
  "result": {
    "pkey": "2",
    "card_id": "abcdefg",
    "username": "user",
    "network": "test",
    "language": "en",
    "received": true,
    "report_id": "1"
  }
}
```

{% common %}
The card does not exist:

```json
{
  "statusCode": 404,
  "found": false,
  "result": null
}
```

{% endmethod %}


{% method %}
### PUT cards/:cardId

Update a card with details a disaster event report:

{% sample lang="https" %}

Here is a simple call to PUT a card:

```https
curl -X PUT -H "X-Api-Key: API_KEY_GOES_HERE" -d '{
    "text": "test card",
    "water_depth": 100,
    "created_at":"2016-12-09T11:32:52.011Z",
    "location": {
        "lat": -6.149531,
        "lng": 106.869342
    }
}' "https://data.petabencana.id/cards/abcdefg"
```

{% common %}
Card was successfully created:

```json
{
  "statusCode": 200,
  "cardId": "abcdefg",
  "created": true
}
```

{% common %}
The card does not exist:

```json
{
  "statusCode": 404,
  "cardId": "abcdefg",
  "message": "No card exists with id 'abcdefg'"
}
```

{% common %}
The report already exists for the card:

```json
{
  "statusCode": 409,
  "cardId": "abcdefg",
  "message": "Report already received for card 'abcdefg'"
}
```

{% endmethod %}



